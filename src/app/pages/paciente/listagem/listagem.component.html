<div class="container">
    <form [formGroup]="formulario">
        <div class="row">
            <!-- TODO: mudar pra uma coisa melhor -->
            <h2>Pesquisa</h2>
            <div class="col">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" minlength="3" maxlength="11" id="nome" class="form-control" formControlName="nome" />
            </div>
            <div class="col">
                <label for="cpf" class="form-label">CPF</label>
                <input type="text" id="cpf" class="form-control" formControlName="cpf" />
            </div>
            <div class="col">
                <label for="dataNascimento" class="form-label">Data de Nascimento</label>
                <input type="date" id="dataNascimento" class="form-control" formControlName="dataNascimento">
            </div>
        </div>

        <div class="row mt-1 justify-content-end">
            <div class="col-auto">
                <button class="btn btn-light" id="btnLimpar"
                    (click)="limpar()">Limpar</button>
                    &nbsp;
                <button class="btn btn-primary" type="submit" id="btnPesquisar"
                    (click)="pesquisar()">Pesquisar</button>
            </div>
        </div>
    </form>

    
    <table class="table table-hover table-striped" *ngIf="ehListagemVisivel">
        <thead>
            <tr>
                <th scope="col">CPF</th>
                <th scope="col">Nome</th>
                <th scope="col">Data de Nascimento</th>
                <th scope="col">Editar</th>
                <th scope="col">Apagar</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let paciente of pacientes">
                <th scope="row">{{ paciente.cpf }}</th>
                <td>{{ paciente.nome | titlecase }}</td>
                <td>{{ paciente.dataNascimento | date:'dd/MM/YYYY' }}</td>
                <td><button class="btn btn-danger">editar</button></td>
                <td><button class="btn btn-info">apagar</button></td>
            </tr>
        </tbody>
    </table>
</div>